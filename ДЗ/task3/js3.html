<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Массивы</title>
</head>
<body>
    <script>
        /*  1. Сформировать массив из 15 целых чисел, выбранных случайным образом из интервала [-10, 30]. 
            Найти среднее арифметическое положительных элементов.

            2. Заменить отрицательные элементы в числовом массиве из n чисел (n>10) их квадратами, 
            оставив остальные без изменения.

            3. В заданном массиве найти среднее арифметическое положительных чисел, 
            среднее арифметическое отрицательных чисел и число нулей.

            4. Организовать симулятор, который выдает только три случайных значения – 
            красный, черный и белый (0, 1, 2). Запустить симуляцию 1000 000 раз. 
            Узнать, какое максимальное число раз выпадало красное значение. */

        // Задача 1 и 3

/*         var arr = [];
        while(arr.length < 15){
            var r = Math.floor(Math.random() * 41) - 10;
            if(arr.indexOf(r) === -1) arr.push(r);
        }
        document.write(arr);

        var pos_sum = 0;
        var pos_count = 0;
        var neg_sum = 0;
        var neg_count = 0;
        var zeros = 0;

        for(i=0; i < arr.length; i++) {
            if (arr[i] > 0) {
                pos_sum += arr[i];
                pos_count+=1;
            } else if (arr[i] < 0) {
                neg_sum += arr[i];
                neg_count+=1;
            } else {
                zeros+=1;
            }
        }
        document.write("</br>Среднее арифметическое положительных чисел: "+pos_sum/pos_count);
        document.write("</br>Среднее арифметическое отрицательных чисел: "+neg_sum/neg_count);
        document.write("</br>Количетсво нулей: "+zeros); */


        // Задача 2

/*         for(i=0; i < arr.length; i++) {
            if (arr[i] < 0) {
                arr[i] = arr[i]*arr[i];
            }
        }
        document.write("Новый массив: "+arr); */

        // Задача 4 + доп Организовать симулятор, который выдает только три случайных значения – красный, черный и белый (0, 1, 2).
        // Запустить симуляцию 1000 000 раз. Узнать, какая последовательность из красных, черных или белых значений была самой длинной.

        var arr=[];    
        
        for(i=0; i<=1000000; i++) {
		    arr.push(Math.floor(Math.random() * 3));
	    }
 
        function count(arr, color){
            var counter = 0;
            var max = 0;

            for (i=0; i<=arr.length; i++){
                if (arr[i] == color) {
                    counter++;
                    if (counter > max) {
                        max = counter;
                    }
                } else {
                    counter = 0;
                }
            }
            return max;
        }
    
        document.write("Максимальное число раз выпадало красное (0): " + count(arr, 0));
        document.write("</br>Максимальное число раз выпадало черное (1): " + count(arr, 1));
        document.write("</br>Максимальное число раз выпадало белое (2): " + count(arr, 2));
    </script>
</body>
</html>